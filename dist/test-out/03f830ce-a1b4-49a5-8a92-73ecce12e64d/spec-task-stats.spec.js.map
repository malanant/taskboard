{
  "version": 3,
  "sources": ["src/app/shared/components/task-stats/task-stats.spec.ts"],
  "sourcesContent": ["import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { TaskStatsComponent, TaskStats } from './task-stats';\r\nimport { of } from 'rxjs';\r\n\r\ndescribe('TaskStatsComponent - Suite complète', () => {\r\n  let component: TaskStatsComponent;\r\n  let fixture: ComponentFixture<TaskStatsComponent>;\r\n\r\n  beforeEach(async () => {\r\n    await TestBed.configureTestingModule({\r\n      imports: [TaskStatsComponent]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(TaskStatsComponent);\r\n    component = fixture.componentInstance;\r\n  });\r\n\r\n  describe('Initialisation', () => {\r\n    it('should create the component', () => {\r\n      expect(component).toBeTruthy();\r\n    });\r\n\r\n    it('should have stats$ @Input property', () => {\r\n      expect(component.stats$).toBeDefined();\r\n    });\r\n  });\r\n\r\n  describe('Template - Rendu avec @Input Observable', () => {\r\n    it('should render stats container when stats$ emits', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 2,\r\n        active: 3,\r\n        percentage: 40\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const container = fixture.nativeElement.querySelector('.stats-container');\r\n      expect(container).toBeTruthy();\r\n    });\r\n\r\n    it('should not render when stats$ is not provided', () => {\r\n      fixture.detectChanges();\r\n\r\n      const container = fixture.nativeElement.querySelector('.stats-container');\r\n      expect(container).toBeFalsy();\r\n    });\r\n\r\n    it('should display total tasks count', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 10,\r\n        completed: 5,\r\n        active: 5,\r\n        percentage: 50\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-value');\r\n      expect(cards[0].textContent).toContain('10');\r\n    });\r\n\r\n    it('should display completed tasks count', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 10,\r\n        completed: 7,\r\n        active: 3,\r\n        percentage: 70\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-value');\r\n      expect(cards[1].textContent).toContain('7');\r\n    });\r\n\r\n    it('should display active tasks count', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 10,\r\n        completed: 2,\r\n        active: 8,\r\n        percentage: 20\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-value');\r\n      expect(cards[2].textContent).toContain('8');\r\n    });\r\n\r\n    it('should display percentage', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 10,\r\n        completed: 5,\r\n        active: 5,\r\n        percentage: 50\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-value');\r\n      expect(cards[3].textContent).toContain('50%');\r\n    });\r\n  });\r\n\r\n  describe('Barre de progression', () => {\r\n    it('should set progress bar width based on percentage', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 10,\r\n        completed: 7,\r\n        active: 3,\r\n        percentage: 70\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const progressFill = fixture.nativeElement.querySelector('.progress-fill');\r\n      const width = progressFill.style.width;\r\n      expect(width).toBe('70%');\r\n    });\r\n\r\n    it('should update progress bar with different percentages', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 20,\r\n        completed: 5,\r\n        active: 15,\r\n        percentage: 25\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const progressFill = fixture.nativeElement.querySelector('.progress-fill');\r\n      expect(progressFill.style.width).toBe('25%');\r\n    });\r\n\r\n    it('should show 0% progress when no tasks completed', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 0,\r\n        active: 5,\r\n        percentage: 0\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const progressFill = fixture.nativeElement.querySelector('.progress-fill');\r\n      expect(progressFill.style.width).toBe('0%');\r\n    });\r\n\r\n    it('should show 100% progress when all tasks completed', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 5,\r\n        active: 0,\r\n        percentage: 100\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const progressFill = fixture.nativeElement.querySelector('.progress-fill');\r\n      expect(progressFill.style.width).toBe('100%');\r\n    });\r\n  });\r\n\r\n  describe('CSS Classes et DOM', () => {\r\n    it('should have stat-card elements', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 2,\r\n        active: 3,\r\n        percentage: 40\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-card');\r\n      expect(cards.length).toBe(4);\r\n    });\r\n\r\n    it('should have correct CSS classes for completed stats', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 2,\r\n        active: 3,\r\n        percentage: 40\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const completedValue = fixture.nativeElement.querySelector('.stat-value.completed');\r\n      expect(completedValue).toBeTruthy();\r\n    });\r\n\r\n    it('should have correct CSS classes for active stats', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 2,\r\n        active: 3,\r\n        percentage: 40\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const activeValue = fixture.nativeElement.querySelector('.stat-value.active');\r\n      expect(activeValue).toBeTruthy();\r\n    });\r\n\r\n    it('should display stat labels', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 2,\r\n        active: 3,\r\n        percentage: 40\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const labels = fixture.nativeElement.querySelectorAll('.stat-label');\r\n      expect(labels.length).toBe(4);\r\n      expect(labels[0].textContent).toContain('Total');\r\n      expect(labels[1].textContent).toContain('Terminées');\r\n      expect(labels[2].textContent).toContain('En cours');\r\n    });\r\n  });\r\n\r\n  describe('Observable avec async pipe', () => {\r\n    it('should handle observable emissions correctly', (done) => {\r\n      const mockStats: TaskStats = {\r\n        total: 5,\r\n        completed: 2,\r\n        active: 3,\r\n        percentage: 40\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      component.stats$.subscribe(stats => {\r\n        expect(stats.total).toBe(5);\r\n        expect(stats.completed).toBe(2);\r\n        expect(stats.active).toBe(3);\r\n        expect(stats.percentage).toBe(40);\r\n        done();\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Edge cases', () => {\r\n    it('should handle zero stats', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 0,\r\n        completed: 0,\r\n        active: 0,\r\n        percentage: 0\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-value');\r\n      expect(cards[0].textContent).toContain('0');\r\n    });\r\n\r\n    it('should handle large numbers', () => {\r\n      const mockStats: TaskStats = {\r\n        total: 999,\r\n        completed: 500,\r\n        active: 499,\r\n        percentage: 50\r\n      };\r\n\r\n      component.stats$ = of(mockStats);\r\n      fixture.detectChanges();\r\n\r\n      const cards = fixture.nativeElement.querySelectorAll('.stat-value');\r\n      expect(cards[0].textContent).toContain('999');\r\n      expect(cards[1].textContent).toContain('500');\r\n    });\r\n  });\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
