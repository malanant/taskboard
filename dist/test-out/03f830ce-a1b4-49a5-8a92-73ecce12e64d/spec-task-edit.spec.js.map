{
  "version": 3,
  "sources": ["src/app/shared/components/task-edit/task-edit.spec.ts"],
  "sourcesContent": ["import { ComponentFixture, TestBed } from '@angular/core/testing';\r\nimport { TaskEditComponent } from './task-edit';\r\n\r\ndescribe('TaskEditComponent - Suite complète', () => {\r\n  let component: TaskEditComponent;\r\n  let fixture: ComponentFixture<TaskEditComponent>;\r\n\r\n  beforeEach(async () => {\r\n    await TestBed.configureTestingModule({\r\n      imports: [TaskEditComponent]\r\n    }).compileComponents();\r\n\r\n    fixture = TestBed.createComponent(TaskEditComponent);\r\n    component = fixture.componentInstance;\r\n    component.taskTitle = 'Tâche test';\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  describe('Initialisation', () => {\r\n    it('should create the component', () => {\r\n      expect(component).toBeTruthy();\r\n    });\r\n\r\n    it('should have taskTitle @Input', () => {\r\n      expect(component.taskTitle).toBe('Tâche test');\r\n    });\r\n\r\n    it('should have save @Output EventEmitter', () => {\r\n      expect(component.save).toBeDefined();\r\n    });\r\n\r\n    it('should have cancel @Output EventEmitter', () => {\r\n      expect(component.cancel).toBeDefined();\r\n    });\r\n\r\n    it('should initialize editTitle with taskTitle', () => {\r\n      expect(component.editTitle).toBe('Tâche test');\r\n    });\r\n  });\r\n\r\n  describe('Template - Modal Overlay', () => {\r\n    it('should render the modal overlay', () => {\r\n      const overlay = fixture.nativeElement.querySelector('.edit-modal-overlay');\r\n      expect(overlay).toBeTruthy();\r\n    });\r\n\r\n    it('should render the modal content', () => {\r\n      const modal = fixture.nativeElement.querySelector('.edit-modal');\r\n      expect(modal).toBeTruthy();\r\n    });\r\n\r\n    it('should render modal title', () => {\r\n      const title = fixture.nativeElement.querySelector('.edit-modal h3');\r\n      expect(title.textContent).toContain('Éditer la tâche');\r\n    });\r\n\r\n    it('should close modal when clicking on overlay', () => {\r\n      spyOn(component, 'onCancel');\r\n      \r\n      const overlay = fixture.nativeElement.querySelector('.edit-modal-overlay');\r\n      overlay.click();\r\n      \r\n      expect(component.onCancel).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should not close modal when clicking on modal content', () => {\r\n      spyOn(component, 'onCancel');\r\n      \r\n      const modal = fixture.nativeElement.querySelector('.edit-modal');\r\n      modal.click();\r\n      \r\n      expect(component.onCancel).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  describe('Input Field - Two-way binding ngModel', () => {\r\n    it('should render input field', () => {\r\n      const input = fixture.nativeElement.querySelector('input');\r\n      expect(input).toBeTruthy();\r\n    });\r\n\r\n    it('should have correct placeholder', () => {\r\n      const input = fixture.nativeElement.querySelector('input');\r\n      expect(input.placeholder).toBe('Titre de la tâche');\r\n    });\r\n\r\n    it('should bind taskTitle to input value', () => {\r\n      const input = fixture.nativeElement.querySelector('input');\r\n      expect(input.value).toBe('Tâche test');\r\n    });\r\n\r\n    it('should update editTitle when input value changes', () => {\r\n      const input = fixture.nativeElement.querySelector('input');\r\n      input.value = 'Nouveau titre';\r\n      input.dispatchEvent(new Event('input'));\r\n      \r\n      fixture.detectChanges();\r\n      fixture.whenStable().then(() => {\r\n        expect(component.editTitle).toBe('Nouveau titre');\r\n      });\r\n    });\r\n\r\n    it('should have autofocus attribute', () => {\r\n      const input = fixture.nativeElement.querySelector('input');\r\n      expect(input.autofocus).toBe(true);\r\n    });\r\n  });\r\n\r\n  describe('Boutons et Actions', () => {\r\n    it('should render cancel button', () => {\r\n      const cancelBtn = fixture.nativeElement.querySelector('.btn-cancel');\r\n      expect(cancelBtn).toBeTruthy();\r\n      expect(cancelBtn.textContent).toContain('Annuler');\r\n    });\r\n\r\n    it('should render save button', () => {\r\n      const saveBtn = fixture.nativeElement.querySelector('.btn-save');\r\n      expect(saveBtn).toBeTruthy();\r\n      expect(saveBtn.textContent).toContain('Enregistrer');\r\n    });\r\n\r\n    it('should call onCancel when cancel button is clicked', () => {\r\n      spyOn(component, 'onCancel');\r\n      \r\n      const cancelBtn = fixture.nativeElement.querySelector('.btn-cancel');\r\n      cancelBtn.click();\r\n      \r\n      expect(component.onCancel).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should call onSave when save button is clicked', () => {\r\n      spyOn(component, 'onSave');\r\n      \r\n      const saveBtn = fixture.nativeElement.querySelector('.btn-save');\r\n      saveBtn.click();\r\n      \r\n      expect(component.onSave).toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  describe('Clavier - Keyboard Events', () => {\r\n    it('should save when Enter key is pressed in input', () => {\r\n      spyOn(component, 'onSave');\r\n      \r\n      const input = fixture.nativeElement.querySelector('input');\r\n      const event = new KeyboardEvent('keyup', { key: 'Enter' });\r\n      input.dispatchEvent(event);\r\n      \r\n      expect(component.onSave).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should not save on other keys', () => {\r\n      spyOn(component, 'onSave');\r\n      \r\n      const input = fixture.nativeElement.querySelector('input');\r\n      const event = new KeyboardEvent('keyup', { key: 'a' });\r\n      input.dispatchEvent(event);\r\n      \r\n      expect(component.onSave).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  describe('EventEmitters - @Output', () => {\r\n    it('should emit save event with new title', () => {\r\n      spyOn(component.save, 'emit');\r\n      \r\n      component.editTitle = 'Titre modifié';\r\n      component.onSave();\r\n      \r\n      expect(component.save.emit).toHaveBeenCalledWith('Titre modifié');\r\n    });\r\n\r\n    it('should emit cancel event', () => {\r\n      spyOn(component.cancel, 'emit');\r\n      \r\n      component.onCancel();\r\n      \r\n      expect(component.cancel.emit).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should trim whitespace when saving', () => {\r\n      spyOn(component.save, 'emit');\r\n      \r\n      component.editTitle = '  Titre avec espaces  ';\r\n      component.onSave();\r\n      \r\n      expect(component.save.emit).toHaveBeenCalledWith('Titre avec espaces');\r\n    });\r\n\r\n    it('should not save empty title', () => {\r\n      spyOn(component.save, 'emit');\r\n      \r\n      component.editTitle = '';\r\n      component.onSave();\r\n      \r\n      expect(component.save.emit).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('should not save whitespace-only title', () => {\r\n      spyOn(component.save, 'emit');\r\n      \r\n      component.editTitle = '   ';\r\n      component.onSave();\r\n      \r\n      expect(component.save.emit).not.toHaveBeenCalled();\r\n    });\r\n  });\r\n\r\n  describe('Lifecycle - ngOnInit', () => {\r\n    it('should initialize editTitle from taskTitle on init', () => {\r\n      const newComponent = TestBed.createComponent(TaskEditComponent);\r\n      newComponent.componentInstance.taskTitle = 'Nouvelle tâche';\r\n      \r\n      newComponent.detectChanges();\r\n      \r\n      expect(newComponent.componentInstance.editTitle).toBe('Nouvelle tâche');\r\n    });\r\n  });\r\n\r\n  describe('Modal comportement complet', () => {\r\n    it('should handle complete edit workflow', () => {\r\n      const saveSpy = spyOn(component.save, 'emit');\r\n      \r\n      // Modifier le titre\r\n      component.editTitle = 'Tâche mise à jour';\r\n      fixture.detectChanges();\r\n      \r\n      // Cliquer sur save\r\n      component.onSave();\r\n      \r\n      // Vérifier que l'event a été émis avec le bon titre\r\n      expect(saveSpy).toHaveBeenCalledWith('Tâche mise à jour');\r\n    });\r\n\r\n    it('should handle complete cancel workflow', () => {\r\n      const cancelSpy = spyOn(component.cancel, 'emit');\r\n      \r\n      // Modifier le titre\r\n      component.editTitle = 'Tâche modifiée';\r\n      \r\n      // Cliquer sur cancel\r\n      component.onCancel();\r\n      \r\n      // Vérifier que l'event a été émis\r\n      expect(cancelSpy).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should handle cancel button click from overlay', () => {\r\n      const cancelSpy = spyOn(component.cancel, 'emit');\r\n      \r\n      const overlay = fixture.nativeElement.querySelector('.edit-modal-overlay');\r\n      overlay.click();\r\n      \r\n      expect(cancelSpy).toHaveBeenCalled();\r\n    });\r\n\r\n    it('should handle multiple edit-save cycles', () => {\r\n      const saveSpy = spyOn(component.save, 'emit');\r\n      \r\n      // Premier cycle\r\n      component.editTitle = 'Titre 1';\r\n      component.onSave();\r\n      expect(saveSpy).toHaveBeenCalledWith('Titre 1');\r\n      \r\n      // Deuxième cycle\r\n      component.editTitle = 'Titre 2';\r\n      component.onSave();\r\n      expect(saveSpy).toHaveBeenCalledWith('Titre 2');\r\n      \r\n      // Vérifier que emit a été appelé deux fois\r\n      expect(saveSpy).toHaveBeenCalledTimes(2);\r\n    });\r\n  });\r\n\r\n  describe('CSS Classes et Styles', () => {\r\n    it('should have edit-actions div', () => {\r\n      const actions = fixture.nativeElement.querySelector('.edit-actions');\r\n      expect(actions).toBeTruthy();\r\n    });\r\n\r\n    it('should have correct button classes', () => {\r\n      const cancelBtn = fixture.nativeElement.querySelector('.btn-cancel');\r\n      const saveBtn = fixture.nativeElement.querySelector('.btn-save');\r\n      \r\n      expect(cancelBtn.classList.contains('btn-cancel')).toBe(true);\r\n      expect(saveBtn.classList.contains('btn-save')).toBe(true);\r\n    });\r\n  });\r\n});\r\n"],
  "mappings": "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",
  "names": []
}
